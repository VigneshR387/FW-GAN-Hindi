device: 'cuda'
model: 'adversarial_model'
dataset: 'hindi_word'
seed: 123456

# Image dimensions - MATCH IAM ARCHITECTURE
img_height: 32          # ← Reverted from 128
char_width: 16          # ← Reverted from 64

ckpt: './data/weights/FW-GAN.pth'

# Hindi-specific metadata paths
hindi_metadata:
  train: 'dataset_32px/train/metadata.json'
  val: 'dataset_32px/val/metadata.json'
  test: 'dataset_32px/test/metadata.json'
  image_base_dir: 'dataset_32px'

training:
  dset_split: 'trnval'
  epochs: 100
  lr_policy: 'linear'
  start_decay_epoch: 35
  n_epochs_decay: 65
  batch_size: 8
  eval_batch_size: 6
  sample_nrow: 3
  lr: 0.0002
  adam_b1: 0.5
  adam_b2: 0.999
  lambda_kl: 0.0001
  sample_iter_val: 200
  print_iter_val: 20
  start_save_epoch_val: 30
  save_epoch_val: 1
  sample_dir: 'imgs'
  ckpt_dir: 'ckpts'

  # Hindi-specific settings
  lexicon: './data/lexicon.txt'
  max_word_len: 25              # Hindi words can be longer
  n_class: 117                  # Hindi alphabet size
  capitalize_ratio: 0.0         # Hindi has no capitals
  sort_input: false
  num_critic_train: 4

valid:
  n_generate: ~
  dset_name: 'hindi_word'
  dset_split: 'test'
  batch_size: 8
  dims: 2048
  mmd_degree: 3
  mmd_gamma: ~
  mmd_coef0: 1.0
  mmd_subsets: 50
  mmd_subset_size: 1000
  mmd_var: true

test:
  interp_num: 7
  nrow: 4

# Generator - MATCH IAM SETTINGS
GenModel:
  G_ch: 64
  style_dim: 128
  bottom_width: 4
  bottom_height: 4        # ← Reverted from 8
  resolution: 32          # ← Reverted from 128
  G_kernel_size: 3
  G_attn: '64'
  n_class: 117            # ← Keep Hindi size
  num_G_SVs: 1
  num_G_SV_itrs: 1
  G_shared: false
  shared_dim: 0
  no_hier: false
  cross_replica: false
  mybn: false
  BN_eps: 0.00001
  SN_eps: 0.00000001
  init: 'N02'
  G_param: 'SN'
  norm_style: 'bn'
  bn_linear: 'SN'
  input_nc: 1
  one_hot: true
  first_layer: true
  one_hot_k: 1

# Discriminator - MATCH IAM SETTINGS
DiscModel:
  D_ch: 64
  D_wide: true
  resolution: 32          # ← Reverted from 128
  D_kernel_size: 3
  D_attn: '64'
  n_class: 117            # ← Keep Hindi size
  num_D_SVs: 1
  num_D_SV_itrs: 1
  SN_eps: 0.00000001
  output_dim: 1
  init: 'N02'
  D_param: 'SN'
  bn_linear: 'SN'
  input_nc: 1
  one_hot: true

# HF Discriminator - MATCH IAM SETTINGS
HFDiscModel:
  D_ch: 64
  D_wide: true
  resolution: 32          # ← Reverted from 128
  D_kernel_size: 3
  D_attn: '64'
  n_class: 117            # ← Keep Hindi size
  num_D_SVs: 1
  num_D_SV_itrs: 1
  SN_eps: 0.00000001
  output_dim: 1
  init: 'N02'
  D_param: 'SN'
  bn_linear: 'SN'
  input_nc: 1
  one_hot: true

# Recognizer - MATCH IAM SETTINGS
OcrModel:
  resolution: 16          # ← Reverted from 128
  in_channel: 1
  norm: 'bn'
  init: 'none'
  dropout: 0.0
  n_class: 117            # ← Keep Hindi size
  rnn_depth: 0
  bidirectional: false
  # max_dim: REMOVED - not in original

# SharedBackbone - MATCH IAM SETTINGS
SharedBackbone:
  resolution: 16          # ← Reverted from 128
  max_dim: 256            # ← Keep as is
  in_channel: 1
  dropout: 0.0
  norm: 'bn'

# Style Encoder
EncModel:
  style_dim: 96
  init: 'none'

# Writer Identifier
WidModel:
  n_writer: 12            # ← Will be updated at runtime
  init: 'none'
